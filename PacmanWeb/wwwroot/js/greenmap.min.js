function SetElement(n,t,i){var r=document.getElementById(n);context.fillStyle="black";context.fillRect(t*spriteX,i*spriteY,spriteX,spriteY);context.drawImage(r,t*spriteX,i*spriteY,spriteX,spriteY)}function readTextFile(n,t){var i=new XMLHttpRequest;i.overrideMimeType("application/json");i.open("GET",n,!0);i.onreadystatechange=function(){i.readyState===4&&i.status=="200"&&t(i.responseText)};i.send(null)}var canvas=document.getElementById("map");context=canvas.getContext("2d");readTextFile("./js/map.json",function(n){for(var r,t=JSON.parse(n),u=canvas.width,f=canvas.height,e=u/t.length,o=f/t[0].length,i=0;i<t.length;i++)for(r=0;r<t[i].length;r++)SetElement(t[i][r],r,i)});